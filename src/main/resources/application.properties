# REST
spring.jackson.default-property-inclusion=non_null
spring.jackson.property-naming-strategy=LOWER_CAMEL_CASE
spring.session.jdbc.initialize-schema=always
#spring.session.jdbc.initialize-schema=never

# CERTIFICATE
# edp.auth.provider-uri=http://module-oauth:8082
edp.auth.provider-uri=http://localhost:8082
edp.auth.key-pass=123456
edp.auth.store-pass=123456
edp.auth.alias=edpvalidate
edp.auth.path=keystore/edpvalidate.jks

# SESSION
spring.session.store-type=jdbc

#---------------#
#  HEALTH CHECK
#---------------#
management.endpoint.health.show-details=always
logging.level.org.springframework.web=DEBUG
logging.level.org.hibernate=ERROR

#---------------#
# Logging
#---------------#
logging.file.name=logs/module-security.log
logging.logback.rollingpolicy.file-name-pattern=logs/module-security-%d{yyyy-MM-dd}.%i.log
logging.logback.rollingpolicy.max-file-size=10MB
logging.logback.rollingpolicy.max-history=7
logging.pattern.console=%d{dd-MM-yyyy hh:mm:ss} %-5level %logger{36} - %msg%n


#--- Email ---
spring.mail.host=192.168.0.123
spring.mail.port=1025
spring.mail.username=seu-email@gmail.com
spring.mail.password=sua-senha
spring.mail.properties.mail.smtp.auth=false
spring.mail.properties.mail.smtp.starttls.enable=false


# URL ambientes do backend
msiav.openapi.dev-url=http://localhost:8080/
msiav.openapi.hml-url=http://localhost:8080/
msiav.openapi.prod-url=http://localhost:8080/
msiav.openapi.prod-training=http://localhost:8080/
msiav.openapi.local-url=http://localhost:8080/

#---------------#
#   APP
#---------------#
app.cache-timeout=300000

# App Properties
montreal.oauth.jwtSecret=357638792F423F4428472B4B6250655368566D597133743677397A2443264629
montreal.oauth.encryptSecretKey=awTSZLN48GzB0LQPdc17yTauCQhafz7U
montreal.oauth.jwtExpirationMs=86400000

#---------------#
#   IMAGEM DO USUARIO
#---------------#
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=5MB


#spring.jpa.hibernate.ddl-auto=none
spring.jpa.hibernate.ddl-auto=update
#spring.data.mongodb.auto-index-creation=true
spring.profiles.active=@spring.profiles.active@
spring.main.allow-circular-references=true

spring.thymeleaf.cache=false
spring.thymeleaf.mode=HTML

app.crypto.secret=aFgJCHMSEbL6k2UO

# Montreal API Configuration
montreal.api.base-url=https://homol-recupera.montreal.com.br
montreal.api.username=sistema_mg
montreal.api.password=Acesso@1
montreal.api.token-refresh-interval=8000

# ===============================
# VEHICLE CACHE CONFIGURATION
# ===============================
vehicle.cache.expiry.minutes=10
vehicle.cache.update.enabled=true
vehicle.cache.update.interval=600000
vehicle.cache.update.days-to-fetch=30
vehicle.cache.update.fallback-days=60
vehicle.cache.update.max-historical-days=180
vehicle.cache.cleanup.cron=0 0 2 * * ?
vehicle.cache.retention.days=7

# ===============================
# RESILIENCE4J CIRCUIT BREAKER CONFIGURATION
# ===============================
resilience4j.circuitbreaker.instances.vehicle-api.registerHealthIndicator=true
resilience4j.circuitbreaker.instances.vehicle-api.slidingWindowSize=10
resilience4j.circuitbreaker.instances.vehicle-api.minimumNumberOfCalls=5
resilience4j.circuitbreaker.instances.vehicle-api.permittedNumberOfCallsInHalfOpenState=3
resilience4j.circuitbreaker.instances.vehicle-api.automaticTransitionFromOpenToHalfOpenEnabled=true
resilience4j.circuitbreaker.instances.vehicle-api.waitDurationInOpenState=60s
resilience4j.circuitbreaker.instances.vehicle-api.failureRateThreshold=50
resilience4j.circuitbreaker.instances.vehicle-api.eventConsumerBufferSize=10

# ===============================
# RESILIENCE4J RETRY CONFIGURATION
# ===============================
resilience4j.retry.instances.vehicle-api.maxAttempts=3
resilience4j.retry.instances.vehicle-api.waitDuration=5s